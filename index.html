<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>DorszAI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
  --bg:#343541;
  --side:#202123;
  --panel:#40414f;
  --text:#ffffff;
  --muted:#bdbdbd;
}
.light{
  --bg:#f5f5f5;
  --side:#eaeaea;
  --panel:#ffffff;
  --text:#000000;
  --muted:#555;
}
*{box-sizing:border-box}
body{
  margin:0;
  font-family:system-ui;
  background:var(--bg);
  color:var(--text);
}
#app{display:flex;height:100vh}

/* SIDEBAR */
#sidebar{
  width:260px;
  background:var(--side);
  padding:10px;
  display:flex;
  flex-direction:column;
}
button{
  background:var(--panel);
  border:1px solid #555;
  color:var(--text);
  padding:8px;
  border-radius:6px;
  cursor:pointer;
}
button:hover{opacity:.85}
#history{flex:1;overflow-y:auto;margin-top:10px}
.hist{padding:6px;border-radius:6px;cursor:pointer}
.hist:hover{background:rgba(255,255,255,.1)}

/* CHAT */
#chat{flex:1;display:flex;flex-direction:column}
#messages{flex:1;overflow-y:auto;padding:20px}
.msg{max-width:720px;margin:0 auto 20px;line-height:1.6}
.user{font-weight:600}
.ai{color:var(--muted)}

/* INPUT */
#inputBox{border-top:1px solid #555;padding:15px}
#inputWrap{
  max-width:720px;
  margin:auto;
  display:flex;
  background:var(--panel);
  border-radius:8px;
}
#input{
  flex:1;
  background:none;
  border:none;
  color:var(--text);
  padding:14px;
  outline:none;
}
#send{
  background:none;
  border:none;
  color:var(--muted);
  font-size:18px;
  padding:0 14px;
}

/* SETTINGS */
#settings{
  margin-top:10px;
  font-size:14px;
}
select{
  width:100%;
  margin-top:5px;
  padding:5px;
}
canvas{
  max-width:720px;
  margin:10px auto;
  display:block;
  border-radius:10px;
  border:1px solid #555;
}
</style>
</head>

<body>
<div id="app">

<div id="sidebar">
  <button onclick="newChat()">+ New chat</button>

  <div id="settings">
    <label>Motyw</label>
    <select id="themeSel">
      <option value="dark">Ciemny</option>
      <option value="light">Jasny</option>
    </select>

    <label>Styl odpowiedzi</label>
    <select id="styleSel">
      <option value="neutral">Neutralny</option>
      <option value="luÅºny">LuÅºny</option>
      <option value="konkretny">Konkretny</option>
      <option value="techniczny">Techniczny</option>
  padding:12px;
  border-radius:20px;
  border:1px solid #ccc;
  font-size:14px;
}
#send{
  margin-left:10px;
  width:45px;
  height:45px;
  border:none;
  border-radius:50%;
  background:#4f9aff;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}
#send:hover{
  background:#2979ff;
}
</style>
</head>

<body>

<div id="app">
  <div id="sidebar">
    <h2>DorszAI</h2>
    <p>Frontend AI (GitHub Pages)</p>
  </div>

  <div id="chat">
    <div id="messages"></div>

    <div id="inputBox">
      <input id="input" placeholder="Napisz wiadomoÅ›Ä‡..." autocomplete="off">
      <button id="send">âž¤</button>
    </div>
  </div>
</div>

<script>
const input = document.getElementById("input");
const sendBtn = document.getElementById("send");
const messages = document.getElementById("messages");

// ENTER
input.addEventListener("keydown", e => {
  if (e.key === "Enter") sendMessage();
});

// KLIK
sendBtn.addEventListener("click", sendMessage);

function sendMessage(){
  const text = input.value.trim();
  if(!text) return;

  addMessage(text, "user");
  input.value = "";

  setTimeout(() => {
    const reply = dorszAI(text);
    addMessage(reply, "ai");
  }, 300);
}

function addMessage(text, type){
  const div = document.createElement("div");
  div.className = "msg " + type;
  div.textContent = text;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

// ======= MÃ“ZG DORSZ AI =======
function dorszAI(text){
  const t = text.toLowerCase();

  if(t === "elo" || t === "siema" || t === "hej")
    return "Siema ðŸ‘‹ DziaÅ‚am poprawnie.";

  if(t.includes("kim jesteÅ›"))
    return "Jestem DorszAI â€” frontendowa wersja AI dziaÅ‚ajÄ…ca na GitHub Pages.";

  if(t.includes("github"))
    return "Tak, dziaÅ‚am bez serwera. HTML + CSS + JS.";

  if(t.includes("co potrafisz"))
    return "Rozmowa, logika, interakcja. Backend AI moÅ¼na dodaÄ‡ pÃ³Åºniej.";

  if(t === "true")
    return "true"; // nie tÅ‚umaczy

  return "Rozumiem wiadomoÅ›Ä‡. MoÅ¼esz pisaÄ‡ dalej.";
}

// WiadomoÅ›Ä‡ startowa
addMessage("CzeÅ›Ä‡! Jestem DorszAI. Napisz coÅ› ðŸ™‚", "ai");
</script>

</body>
</html>

    // Symulacja AI
    let reply = generateAIReply(text);
    appendMessage(reply,'ai');
    history.push({role:'ai',text:reply});
}

function newConversation(){
    messagesEl.innerHTML='';
    ctx.clearRect(0,0,canvas.width,canvas.height);
    history=[];
}

function generateAIReply(input){
    const text=input.toLowerCase();
    if(text.includes("czeÅ›Ä‡")||text.includes("hej")||text.includes("siema")) return "Siema! ðŸ‘‹ Jak leci?";
    if(text.includes("kim jesteÅ›")) return "Jestem Dorsz AI â€“ dziaÅ‚am w czystym JS w przeglÄ…darce!";
    if(text.includes("pomoc")) return "MogÄ™ odpowiadaÄ‡, tÅ‚umaczyÄ‡, generowaÄ‡ kod, tworzyÄ‡ obrazy i pamiÄ™taÄ‡ historiÄ™ rozmowy.";
    if(text.includes("obraz")||text.includes("narysuj")) return "Kliknij przycisk 'Generuj obraz' aby zobaczyÄ‡ obraz.";
    return "Rozumiem sens, ale potrzebujÄ™ wiÄ™cej informacji.";
}

// ====== GENERATOR OBRAZÃ“W ======
function generateImage(){
    const width=canvas.width;
    const height=canvas.height;
    // gradient tÅ‚a
    const grad=ctx.createLinearGradient(0,0,width,height);
    grad.addColorStop(0,randomColor());
    grad.addColorStop(1,randomColor());
    ctx.fillStyle=grad;
    ctx.fillRect(0,0,width,height);

    // losowe ksztaÅ‚ty
    for(let i=0;i<50;i++){
        ctx.fillStyle=randomColor();
        ctx.beginPath();
        ctx.arc(Math.random()*width,Math.random()*height,Math.random()*50,0,Math.PI*2);
        ctx.fill();
    }
}

function randomColor(){
    const r=Math.floor(Math.random()*256);
    const g=Math.floor(Math.random()*256);
    const b=Math.floor(Math.random()*256);
    return `rgb(${r},${g},${b})`;
}
</script>
</body>
</html>
