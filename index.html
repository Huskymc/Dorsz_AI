<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>DorszAI</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial, Helvetica, sans-serif;
  background:#f5f5f5;
}
#app{
  display:flex;
  height:100vh;
}
#sidebar{
  width:260px;
  background:#202123;
  color:#fff;
  padding:20px;
}
#sidebar h2{
  margin-top:0;
}
#chat{
  flex:1;
  display:flex;
  flex-direction:column;
  background:#f7f7f8;
}
#messages{
  flex:1;
  padding:20px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
}
.msg{
  max-width:70%;
  padding:10px 14px;
  margin-bottom:10px;
  border-radius:12px;
  line-height:1.4;
  word-wrap:break-word;
}
.user{
  align-self:flex-end;
  background:#4f9aff;
  color:#fff;
  border-bottom-right-radius:0;
}
.ai{
  align-self:flex-start;
  background:#e5e5ea;
  color:#000;
  border-bottom-left-radius:0;
}
#inputBox{
  display:flex;
  padding:15px;
  background:#fff;
  border-top:1px solid #ccc;
}
#input{
  flex:1;
  padding:12px;
  border-radius:20px;
  border:1px solid #ccc;
  font-size:14px;
}
#send{
  margin-left:10px;
  width:45px;
  height:45px;
  border:none;
  border-radius:50%;
  background:#4f9aff;
  color:#fff;
  font-size:18px;
  cursor:pointer;
}
#send:hover{
  background:#2979ff;
}
</style>
</head>

<body>

<div id="app">
  <div id="sidebar">
    <h2>DorszAI</h2>
    <p>Frontend AI (GitHub Pages)</p>
  </div>

  <div id="chat">
    <div id="messages"></div>

    <div id="inputBox">
      <input id="input" placeholder="Napisz wiadomoÅ›Ä‡..." autocomplete="off">
      <button id="send">âž¤</button>
    </div>
  </div>
</div>

<script>
const input = document.getElementById("input");
const sendBtn = document.getElementById("send");
const messages = document.getElementById("messages");

// ENTER
input.addEventListener("keydown", e => {
  if (e.key === "Enter") sendMessage();
});

// KLIK
sendBtn.addEventListener("click", sendMessage);

function sendMessage(){
  const text = input.value.trim();
  if(!text) return;

  addMessage(text, "user");
  input.value = "";

  setTimeout(() => {
    const reply = dorszAI(text);
    addMessage(reply, "ai");
  }, 300);
}

function addMessage(text, type){
  const div = document.createElement("div");
  div.className = "msg " + type;
  div.textContent = text;
  messages.appendChild(div);
  messages.scrollTop = messages.scrollHeight;
}

// ======= MÃ“ZG DORSZ AI =======
function dorszAI(text){
  const t = text.toLowerCase();

  if(t === "elo" || t === "siema" || t === "hej")
    return "Siema ðŸ‘‹ DziaÅ‚am poprawnie.";

  if(t.includes("kim jesteÅ›"))
    return "Jestem DorszAI â€” frontendowa wersja AI dziaÅ‚ajÄ…ca na GitHub Pages.";

  if(t.includes("github"))
    return "Tak, dziaÅ‚am bez serwera. HTML + CSS + JS.";

  if(t.includes("co potrafisz"))
    return "Rozmowa, logika, interakcja. Backend AI moÅ¼na dodaÄ‡ pÃ³Åºniej.";

  if(t === "true")
    return "true"; // nie tÅ‚umaczy

  return "Rozumiem wiadomoÅ›Ä‡. MoÅ¼esz pisaÄ‡ dalej.";
}

// WiadomoÅ›Ä‡ startowa
addMessage("CzeÅ›Ä‡! Jestem DorszAI. Napisz coÅ› ðŸ™‚", "ai");
</script>

</body>
</html>

    // Symulacja AI
    let reply = generateAIReply(text);
    appendMessage(reply,'ai');
    history.push({role:'ai',text:reply});
}

function newConversation(){
    messagesEl.innerHTML='';
    ctx.clearRect(0,0,canvas.width,canvas.height);
    history=[];
}

function generateAIReply(input){
    const text=input.toLowerCase();
    if(text.includes("czeÅ›Ä‡")||text.includes("hej")||text.includes("siema")) return "Siema! ðŸ‘‹ Jak leci?";
    if(text.includes("kim jesteÅ›")) return "Jestem Dorsz AI â€“ dziaÅ‚am w czystym JS w przeglÄ…darce!";
    if(text.includes("pomoc")) return "MogÄ™ odpowiadaÄ‡, tÅ‚umaczyÄ‡, generowaÄ‡ kod, tworzyÄ‡ obrazy i pamiÄ™taÄ‡ historiÄ™ rozmowy.";
    if(text.includes("obraz")||text.includes("narysuj")) return "Kliknij przycisk 'Generuj obraz' aby zobaczyÄ‡ obraz.";
    return "Rozumiem sens, ale potrzebujÄ™ wiÄ™cej informacji.";
}

// ====== GENERATOR OBRAZÃ“W ======
function generateImage(){
    const width=canvas.width;
    const height=canvas.height;
    // gradient tÅ‚a
    const grad=ctx.createLinearGradient(0,0,width,height);
    grad.addColorStop(0,randomColor());
    grad.addColorStop(1,randomColor());
    ctx.fillStyle=grad;
    ctx.fillRect(0,0,width,height);

    // losowe ksztaÅ‚ty
    for(let i=0;i<50;i++){
        ctx.fillStyle=randomColor();
        ctx.beginPath();
        ctx.arc(Math.random()*width,Math.random()*height,Math.random()*50,0,Math.PI*2);
        ctx.fill();
    }
}

function randomColor(){
    const r=Math.floor(Math.random()*256);
    const g=Math.floor(Math.random()*256);
    const b=Math.floor(Math.random()*256);
    return `rgb(${r},${g},${b})`;
}
</script>
</body>
</html>
