<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Dorsz AI</title>

<style>
*{box-sizing:border-box;font-family:system-ui,Segoe UI,Arial}
body{margin:0;background:#f7f7f8;height:100vh;overflow:hidden}
#app{display:flex;height:100vh}

/* SIDEBAR */
#sidebar{
  width:260px;
  background:#202123;
  color:#fff;
  padding:15px;
  display:flex;
  flex-direction:column;
}
#sidebar h1{font-size:20px;margin:0 0 15px 0}
.side-btn{
  background:#343541;
  border:none;
  color:#fff;
  padding:10px;
  margin-bottom:8px;
  border-radius:6px;
  cursor:pointer;
  text-align:left;
}
.side-btn:hover{background:#4a4b53}

/* CHAT */
#chat{flex:1;display:flex;flex-direction:column}
#messages{
  flex:1;
  overflow-y:auto;
  padding:30px;
  display:flex;
  flex-direction:column;
  gap:14px;
}
.msg{
  max-width:70%;
  padding:14px 16px;
  border-radius:14px;
  line-height:1.5;
  white-space:pre-wrap;
}
.user{
  background:#4f9aff;
  color:#fff;
  align-self:flex-end;
  border-bottom-right-radius:4px;
}
.ai{
  background:#e5e5ea;
  color:#000;
  align-self:flex-start;
  border-bottom-left-radius:4px;
}

/* INPUT */
#inputBox{
  padding:20px;
  border-top:1px solid #ddd;
  display:flex;
  gap:10px;
  background:#fff;
}
#inputBox input{
  flex:1;
  padding:14px;
  border-radius:20px;
  border:1px solid #ccc;
  font-size:15px;
}
#inputBox button{
  border:none;
  background:#4f9aff;
  color:#fff;
  border-radius:50%;
  width:48px;
  height:48px;
  font-size:18px;
  cursor:pointer;
}
#inputBox button:hover{background:#2f7dff}

/* IMAGE */
#imageWrap{
  padding:15px;
  border-top:1px solid #ddd;
  background:#fff;
  text-align:center;
}
canvas{
  max-width:100%;
  border-radius:10px;
  border:1px solid #ccc;
}
</style>
</head>

<body>
<div id="app">

<!-- SIDEBAR -->
<div id="sidebar">
  <h1>Dorsz AI</h1>
  <button class="side-btn" onclick="newChat()">‚ûï Nowa rozmowa</button>
  <button class="side-btn" onclick="mode='chat'">üí¨ Chat</button>
  <button class="side-btn" onclick="mode='code'">üíª Kod</button>
  <button class="side-btn" onclick="mode='translate'">üåç T≈Çumacz</button>
  <button class="side-btn" onclick="mode='creative'">‚ú® Kreatywne</button>
  <button class="side-btn" onclick="generateImage()">üñºÔ∏è Generator obraz√≥w</button>
</div>

<!-- CHAT -->
<div id="chat">
  <div id="messages"></div>

  <div id="inputBox">
    <input id="input" placeholder="Napisz wiadomo≈õƒá..." />
    <button onclick="send()">‚û§</button>
  </div>

  <div id="imageWrap">
    <canvas id="canvas" width="512" height="512"></canvas>
  </div>
</div>
</div>

<script>
let mode="chat";
let history=[];

const messages=document.getElementById("messages");
const input=document.getElementById("input");
const canvas=document.getElementById("canvas");
const ctx=canvas.getContext("2d");

function add(text,who){
  const div=document.createElement("div");
  div.className="msg "+who;
  div.textContent=text;
  messages.appendChild(div);
  messages.scrollTop=messages.scrollHeight;
}

function send(){
  const text=input.value.trim();
  if(!text) return;
  input.value="";
  add(text,"user");
  history.push(text);

  add(ai(text),"ai");
}

function ai(t){
  const x=t.toLowerCase();

  if(x==="true"||x==="false"||!isNaN(Number(x))) return t;

  if(x.includes("hej")||x.includes("siema")) return "Siema üëã";
  if(x.includes("kim jeste≈õ")) return "Jestem Dorsz AI ‚Äì czysty JavaScript, bez backendu.";
  
  if(mode==="translate") return "[T≈ÅUMACZ] "+t;
  if(mode==="code") return "```js\nconsole.log('Dorsz AI');\n```";
  if(mode==="creative") return "Wyobra≈∫ sobie ≈õwiat, gdzie AI jest lokalne i szybkie.";

  return "Rozumiem. Napisz wiƒôcej.";
}

function newChat(){
  messages.innerHTML="";
  history=[];
  ctx.clearRect(0,0,512,512);
}

function rand(){return Math.floor(Math.random()*256)}
function color(){return `rgb(${rand()},${rand()},${rand()})`}

function generateImage(){
  const g=ctx.createLinearGradient(0,0,512,512);
  g.addColorStop(0,color());
  g.addColorStop(1,color());
  ctx.fillStyle=g;
  ctx.fillRect(0,0,512,512);

  for(let i=0;i<60;i++){
    ctx.fillStyle=color();
    ctx.beginPath();
    ctx.arc(Math.random()*512,Math.random()*512,Math.random()*40,0,Math.PI*2);
    ctx.fill();
  }
}
</script>
</body>
</html>
